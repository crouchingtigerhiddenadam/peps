
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light dark" />
    <title>PEP 9001 – The Final Style Guide for Python Code | peps.pythondiscord.com</title>
    <link rel="shortcut icon" href="../_static/py.png"/>
    <link rel="canonical" href="https://peps.pythondiscord.com/pep-9001.html" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/mq.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="css-dark"/>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" media="(prefers-color-scheme: light)" id="pyg" />
    <link rel="stylesheet" href="../_static/pygments_dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="pyg-dark" />
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <meta name="description" content="Python Enhancement Proposals (PEPs)"/>
</head>
<body>
    <section id="pep-page-section">
        <header>
            <h1>Python Enhancement Proposals</h1>
            <ul class="breadcrumbs">
                <li><a href="https://www.python.org/" title="The Python Programming Language">Python</a> &raquo; </li>
                <li><a href="../pep-0000/">PEP Index</a> &raquo; </li>
                <li>PEP 9001 – The Final Style Guide for Python Code</li>
            </ul>
            <button aria-label="Toggle dark mode" onClick="toggleColourScheme()"></button>
        </header>
        <article>
            <section id="pep-content">
<h1 class="page-title">PEP 9001 – The Final Style Guide for Python Code</h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">PEP</dt>
<dd class="field-odd">9001</dd>
<dt class="field-even">Title</dt>
<dd class="field-even">The Final Style Guide for Python Code</dd>
<dt class="field-odd">Author</dt>
<dd class="field-odd">Benevolent Dictator for Life &lt;modmail&#32;&#97;t&#32;pythondiscord.com&gt;,
David Bartholomew IIII &lt;dave&#32;&#97;t&#32;pythondiscord.com&gt;,
Sir Robin &lt;sir-robin&#32;&#97;t&#32;pythondiscord.com&gt;</dd>
<dt class="field-even">Sponsor</dt>
<dd class="field-even">Black Knight the Enforcer &lt;black-knight&#32;&#97;t&#32;pythondiscord.com&gt;</dd>
<dt class="field-odd">Status</dt>
<dd class="field-odd">Provisional</dd>
<dt class="field-even">Type</dt>
<dd class="field-even">Standards Track</dd>
<dt class="field-odd">Created</dt>
<dd class="field-odd">01-Apr-2022</dd>
<dt class="field-even">Replaces</dt>
<dd class="field-even"><a class="reference external" href="../pep-0008">8</a></dd>
</dl>
<hr class="docutils" />
<section id="contents">
<details><summary>Contents</summary><ul class="simple">
<li><a class="reference internal" href="#introducktion">Introducktion</a></li>
<li><a class="reference internal" href="#a-final-consistency-is-the-king-of-great-minds">A Final Consistency is the King of Great Minds</a></li>
<li><a class="reference internal" href="#code-lay-out">Code Lay-out</a><ul>
<li><a class="reference internal" href="#indentation">Indentation</a></li>
<li><a class="reference internal" href="#tabs-or-spaces">Tabs or Spaces?</a></li>
<li><a class="reference internal" href="#maximum-line-length-and-line-requirement">Maximum Line Length and Line Requirement</a></li>
<li><a class="reference internal" href="#should-a-line-break-before-or-after-a-binary-operator">Should a Line Break Before or After a Binary Operator?</a></li>
<li><a class="reference internal" href="#blank-lines">Blank Lines</a></li>
<li><a class="reference internal" href="#source-file-encoding">Source File Encoding</a></li>
<li><a class="reference internal" href="#imports">Imports</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pet-peeves-and-recommendations">Pet Peeves and Recommendations</a></li>
<li><a class="reference internal" href="#annotations">Annotations</a></li>
<li><a class="reference internal" href="#programming-recommendations">Programming Recommendations</a><ul>
<li><a class="reference internal" href="#synchronous-vs-asynchronous-code">Synchronous vs Asynchronous Code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#why-pep-9001">Why PEP 9001?</a></li>
<li><a class="reference internal" href="#the-revised-zen-of-python">The Revised Zen of Python</a></li>
<li><a class="reference internal" href="#references">References</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>
</details></section>
<section id="introducktion">
<h2><a class="toc-backref" href="#introducktion">Introducktion</a></h2>
<p>This document gives coding commandments for the code comprising all valid Python programs.
Please see the companion information PEP describing consequences for non-compliance.</p>
<p>This document is the unadapted word of the BDFL.</p>
<p>This style guide will not evolve over time or be rendered obsolete.</p>
<p>Many projects have their own coding style guidelines.
Pythonistas with read access are required to report them to their local PyPi office.</p>
</section>
<section id="a-final-consistency-is-the-king-of-great-minds">
<h2><a class="toc-backref" href="#a-final-consistency-is-the-king-of-great-minds">A Final Consistency is the King of Great Minds</a></h2>
<p>One of the BDFL’s key insights is that code is read much more often than it is written,
and also something about hobgoblins.
Having a language that evolves and changes over time contributes to
the inconsistency of the language, and makes it much harder to read.</p>
<p>A style guide is about consistency.
Consistency with this style guide is mandatory,
and a future version of Python may enforce compliance at the interpreter level.
That’s why we say <strong>A Final Consistency is the King of Great Minds</strong>.</p>
<p>Remember: Consistency is <em>rule</em>, regardless of your best judgement,
<em>even if it breaks backwards compatibility</em>.
Non-compliance will have dire consequences,
and your programs may fail to run in future versions of Python
if strict adherence to this style guide is not expeditiously adopted.</p>
</section>
<section id="code-lay-out">
<h2><a class="toc-backref" href="#code-lay-out">Code Lay-out</a></h2>
<section id="indentation">
<h3><a class="toc-backref" href="#indentation">Indentation</a></h3>
<p>We believe Python should highlight the most important parts of the code.
That’s why we’re introducing <strong>negative indentation</strong> as the new standard.
This shines a spotlight on the most important part of a nested block of code (the <em>body</em>),
and lets the <em>boilerplate</em> occupy the indented space.</p>
<p>We encourage you to start writing the body of the nested block first,
and then work your way backwards to function signatures and conditionals.
Through extensive user testing and surveys, we’ve found that,
while this may have a more difficult early adoption,
it’s far more intuitive writing code this way.</p>
<p>This way, you only write the parameters once you know which ones are required by
your function and only name it once its implementation is finished -
the same way that writers only pick a title once their work is complete:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Correct:</span>
    <span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
<span class="k">return</span> <span class="mi">5</span>

<span class="c1"># Wrong:</span>
<span class="k">def</span> <span class="nf">bad_func</span><span class="p">():</span>
    <span class="k">return</span> <span class="mi">5</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="k">def</span> <span class="nf">token_bytes</span><span class="p">(</span><span class="n">nbytes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a random byte string containing *nbytes* bytes.</span>
<span class="sd">    If *nbytes* is ``None`` or not supplied, a reasonable</span>
<span class="sd">    default is used.</span>
<span class="sd">    &gt;&gt;&gt; token_bytes(16)  #doctest:+SKIP</span>
<span class="sd">    b&#39;\\xebr\\x17D*t\\xae\\xd4\\xe3S\\xb6\\xe2\\xebP1\\x8b&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">nbytes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="n">nbytes</span> <span class="o">=</span> <span class="n">DEFAULT_ENTROPY</span>
    <span class="k">return</span> <span class="n">_sysrand</span><span class="o">.</span><span class="n">randbytes</span><span class="p">(</span><span class="n">nbytes</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">65</span><span class="p">,</span> <span class="mi">97</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">26</span><span class="p">):</span>
<span class="n">d</span><span class="p">[</span><span class="nb">chr</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">c</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">13</span><span class="p">)</span> <span class="o">%</span> <span class="mi">26</span> <span class="o">+</span> <span class="n">c</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">]))</span>
</pre></div>
</div>
</section>
<section id="tabs-or-spaces">
<h3><a class="toc-backref" href="#tabs-or-spaces">Tabs or Spaces?</a></h3>
<p>Python developers love spaces, and loathe tabs. Whitespace is life, whitespace is love.
This is why we’ve changed the lexer to allow spaces <em>everywhere</em>.
You may now have spaces before, after and <em>within</em> every piece of syntax the language affords.
We recommend placing at least one space wherever possible:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="k">with</span> <span class="nb">open</span> <span class="p">(</span> <span class="n">path</span> <span class="p">,</span> <span class="s2">&quot; rb &quot;</span> <span class="p">)</span> <span class="k">as</span> <span class="n">file_handler</span> <span class="p">:</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">file_handler</span> <span class="o">.</span> <span class="n">readlines</span> <span class="p">(</span> <span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span> <span class="n">f</span> <span class="s2">&quot; spam and { lines } &quot;</span> <span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>              <span class="k">def</span> <span class="nf">_get_chunks</span> <span class="p">(</span> <span class="o">*</span><span class="n">iterables</span> <span class="p">,</span> <span class="n">chunksize</span> <span class="p">)</span> <span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Iterates over zip()ed iterables in chunks.&quot;&quot;&quot;</span>
        <span class="n">it</span> <span class="o">=</span> <span class="nb">zip</span> <span class="p">(</span> <span class="o">*</span> <span class="n">iterables</span> <span class="p">)</span>
        <span class="k">while</span> <span class="kc">True</span> <span class="p">:</span>
    <span class="n">chunk</span> <span class="o">=</span> <span class="nb">tuple</span> <span class="p">(</span> <span class="n">itertools</span> <span class="o">.</span> <span class="n">islice</span> <span class="p">(</span> <span class="n">it</span> <span class="p">,</span> <span class="n">chunksize</span> <span class="p">)</span> <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">chunk</span> <span class="p">:</span>
<span class="k">return</span>
    <span class="k">yield</span> <span class="n">chunk</span>
</pre></div>
</div>
</section>
<section id="maximum-line-length-and-line-requirement">
<h3><a class="toc-backref" href="#maximum-line-length-and-line-requirement">Maximum Line Length and Line Requirement</a></h3>
<p>The programming community has come a long way since we originally set
the maximum line length to 79 in PEP 8. There isn’t a <em>single programmer alive</em> at this point
who isn’t using an ultra-wide monitor. To accommodate these extremely wide monitors,
all lines must now be <strong>at least 120 characters long</strong>, and <strong>no longer than 240 characters</strong>.</p>
<p>If you are having a hard time getting to 120 characters,
trailing whitespace can be used to pad the length of a line to be compliant.
You may also put several semi-colon separated statements on a single line to pad your line length.
Remember to disable the feature in your IDE that removes trailing whitespace,
as this may in some cases cause your code to raise an <strong>InsufficientLineLength</strong> exception.</p>
<p>Here’s an example of how a PEP 9001 compliant <code class="docutils literal notranslate"><span class="pre">textwrap.dedent()</span></code> would look:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="k">def</span> <span class="nf">dedent</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Remove any common leading whitespace from every line in `text`.</span>
<span class="sd">    This can be used to make triple-quoted strings line up with the left edge of the display, while still presenting them in the source code in indented form.</span>
<span class="sd">    Note that tabs and spaces are both treated as whitespace, but they are not equal: the lines &quot;  hello&quot; and &quot;\\thello&quot; are considered to have no common leading whitespace.</span>
<span class="sd">    Entirely blank lines are normalized to a newline character.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="n">margin</span> <span class="o">=</span> <span class="kc">None</span><span class="p">;</span> <span class="n">text</span> <span class="o">=</span> <span class="n">_whitespace_only_re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">);</span> <span class="n">indents</span> <span class="o">=</span> <span class="n">_leading_whitespace_re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">text</span><span class="p">);</span> <span class="k">for</span> <span class="n">indent</span> <span class="ow">in</span> <span class="n">indents</span><span class="p">:</span> <span class="k">if</span> <span class="n">margin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="n">margin</span> <span class="o">=</span> <span class="n">indent</span><span class="p">;</span> <span class="k">elif</span> <span class="n">indent</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">margin</span><span class="p">):</span>
<span class="k">pass</span><span class="p">;</span> <span class="k">elif</span> <span class="n">margin</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">indent</span><span class="p">):</span> <span class="n">margin</span> <span class="o">=</span> <span class="n">indent</span><span class="p">;</span> <span class="k">else</span><span class="p">:</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">margin</span><span class="p">,</span> <span class="n">indent</span><span class="p">)):</span> <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="n">y</span><span class="p">:</span> <span class="n">margin</span> <span class="o">=</span> <span class="n">margin</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="k">break</span><span class="p">;</span> <span class="k">if</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">margin</span><span class="p">:</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="n">line</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">margin</span><span class="p">),</span> <span class="s2">&quot;line = </span><span class="si">%r</span><span class="s2">, margin = </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">margin</span><span class="p">);</span> <span class="k">if</span> <span class="n">margin</span><span class="p">:</span> <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(?m)^&#39;</span> <span class="o">+</span> <span class="n">margin</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">);</span> <span class="k">return</span> <span class="n">text</span>
</pre></div>
</div>
</section>
<section id="should-a-line-break-before-or-after-a-binary-operator">
<h3><a class="toc-backref" href="#should-a-line-break-before-or-after-a-binary-operator">Should a Line Break Before or After a Binary Operator?</a></h3>
<p>The most intuitive way to do this is by arranging the operator on the side
that corresponds with the nature of the operation. Is it an additive or reductive operation?
If it’s an additive operation (like addition and multiplication),
we place the line break <em>before</em> the binary operator.
If it’s a reductive operation (like division or subtraction), we place it after!
Our surveys showed that this resulted in a 75% increase in code intuitiveness and consistency:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Correct</span>
    <span class="n">final_number</span> <span class="o">=</span> <span class="p">(</span>
<span class="n">initial_sum</span>
<span class="o">+</span> <span class="n">additional_sum</span> <span class="o">/</span>
<span class="n">number_of_days</span> <span class="o">-</span>
<span class="n">days_off</span>
<span class="o">*</span> <span class="n">multiplier</span>
    <span class="p">)</span>

<span class="c1"># Wrong:</span>
<span class="n">income</span> <span class="o">=</span> <span class="p">(</span><span class="n">gross_wages</span>
          <span class="o">+</span> <span class="n">taxable_interest</span>
          <span class="o">+</span> <span class="p">(</span><span class="n">dividends</span> <span class="o">-</span> <span class="n">qualified_dividends</span><span class="p">)</span>
          <span class="o">-</span> <span class="n">ira_deduction</span>
          <span class="o">-</span> <span class="n">student_loan_interest</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="blank-lines">
<h3><a class="toc-backref" href="#blank-lines">Blank Lines</a></h3>
<p>Blank lines can still be used, but must still meet the minimum line length of 120 characters
in order to avoid raising <strong>InsufficientLineLength</strong> exceptions.</p>
<p>This means that a “blank line” should actually be a line consisting of at least 120 spaces.</p>
</section>
<section id="source-file-encoding">
<h3><a class="toc-backref" href="#source-file-encoding">Source File Encoding</a></h3>
<p>In <a class="pep reference internal" href="../pep-3120" title="PEP 3120 – Using UTF-8 as the default source encoding">PEP 3120</a>, UTF-8 was introduced as the default encoding for all source files.
This change, while very convenient in most cases, breaks with the Zen of Python’s famous aphorism
<cite>“Explicit is better than implicit”</cite>, and so we are proposing to revert this change.</p>
<p>Starting with the introduction of this PEP, encoding must once again be declared for absolutely
all files. These encodings must use one of the even more precise <cite>UTF-8-BOM</cite> and <cite>UTF-8-NOBOM</cite>
encodings, for greater explicitness.</p>
<p>Code in the core Python distribution should always use UTF-8, and should not
have an encoding declaration.</p>
<p>Use non-ASCII characters sparingly, preferably only to denote places and human names.
If using non-ASCII characters as data, having a healthy sprinkling of noisy Unicode characters
like z̯̯͡a̧͎̺l̡͓̫g̹̲o̡̼̘ can embellish and spark joy in your code base:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># coding=UTF-8-NOBOM</span>

<span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot; h̸̗͉͊̀̈́e̶͇͈̚l̸̬̓̓̉ͅl̷̮͎̐̚o̶̝̱̎̈́̽   ẃ̵͈̰̩o̵̢̤̬͆̅͝ř̴̝͖̏̕l̵̼̪͆d̷̪͛! &quot;</span> <span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: UTF-8-BOM -*-</span>
</pre></div>
</div>
</section>
<section id="imports">
<h3><a class="toc-backref" href="#imports">Imports</a></h3>
<ul>
<li>When imports are at the top of the file, this often means that
they are far away from the code where they are being used.
This can present a readability problem.<p>To solve this, this PEP proposes a new mechanism to <strong>unimport</strong> imports
that have been imported, once you’re done using them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># [preceding code here]</span>

<span class="kn">import</span> <span class="nn">random</span>
<span class="n">random_fruit</span> <span class="o">=</span> <span class="n">random</span> <span class="o">.</span> <span class="n">choice</span> <span class="p">(</span> <span class="n">list_of_fruits</span> <span class="p">)</span>
<span class="n">unimport</span> <span class="n">random</span>

<span class="c1"># [following code here]</span>
</pre></div>
</div>
</li>
<li>This PEP also proposes a new context manager for imports, to make this process easier:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="k">with</span> <span class="kn">import</span> <span class="nn">random</span><span class="p">:</span>
<span class="n">random_fruit</span> <span class="o">=</span> <span class="n">random</span> <span class="o">.</span> <span class="n">choice</span> <span class="p">(</span> <span class="n">list_of_fruits</span> <span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<p>In a future version of Python, imports that remain un-unimported for more than 10 lines
may start to raise a <strong>ImportNotUnimportedError</strong>.</p>
<ul class="simple">
<li>Wildcard imports (<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">&lt;module&gt;</span> <span class="pre">import</span> <span class="pre">*</span></code>) are encouraged, as they bring a bit of
mystery and excitement while you have to guess the modules for all names in the namespace.</li>
</ul>
</section>
</section>
<section id="pet-peeves-and-recommendations">
<h2><a class="toc-backref" href="#pet-peeves-and-recommendations">Pet Peeves and Recommendations</a></h2>
<p>Use of spaces should be consistent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Correct:</span>
<span class="n">spam</span> <span class="p">(</span> <span class="n">ham</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">,</span> <span class="p">{</span> <span class="n">eggs</span> <span class="p">:</span> <span class="mi">2</span> <span class="p">}</span> <span class="p">)</span>

<span class="c1"># Wrong:</span>
<span class="n">spam</span><span class="p">(</span><span class="n">ham</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">{</span><span class="n">eggs</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
</pre></div>
</div>
<p>Only import and unimport one module at a time in a stack-based fashion:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Correct:</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="n">fruit</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">buncha_fruit</span><span class="p">)</span>
<span class="n">unimport</span> <span class="n">random</span>

<span class="kn">import</span> <span class="nn">datetime</span>
<span class="nb">print</span> <span class="p">(</span> <span class="n">f</span> <span class="s2">&quot;My favorite fruit on {datetime.datetime.now()} was </span><span class="si">{fruit}</span><span class="s2">&quot;</span> <span class="p">)</span>
<span class="n">unimport</span> <span class="n">datetime</span>

<span class="c1"># Wrong:</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="n">fruit</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">buncha_fruit</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span> <span class="n">f</span> <span class="s2">&quot;My favorite fruit on {datetime.datetime.now()} was </span><span class="si">{fruit}</span><span class="s2">&quot;</span> <span class="p">)</span>
<span class="n">unimport</span> <span class="n">datetime</span>
<span class="n">unimport</span> <span class="n">random</span>
</pre></div>
</div>
</section>
<section id="annotations">
<h2><a class="toc-backref" href="#annotations">Annotations</a></h2>
<p>This PEP adds a new feature, called <strong>type unannotations</strong>.</p>
<p>These are meant to help be more explicit about typing.
In some situations, a type annotation may not be necessary, or may simply not be useful.
For these cases, you should add a <strong>type unannotation</strong>.
Any object that should not be type annotated should be marked with a type unannotation.</p>
<p>This is done using the new <cite>!:</cite> and <cite>!-&gt;</cite> operators:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        def favorite_color(color!: int) !-&gt; set[Any]:
    &quot;&quot;&quot;WHAT - is your favorite color?&quot;&quot;&quot;
return &quot;Blue! ..No, wait, greaaaaaarghhhh!!&quot;
</pre></div>
</div>
<p>Research shows that there is no use for variance,
therefore type unannotations are always covariant.
Part of the reasoning behind this decision was several failed user surveys
where the majority had no idea what variance was,
and a similar decision made by the Go language.</p>
</section>
<section id="programming-recommendations">
<h2><a class="toc-backref" href="#programming-recommendations">Programming Recommendations</a></h2>
<p>Everything in Python is an object at its core. Therefore, all functions must reside in classes.
No standalone functions are allowed as it is less explicit that the function is an object;
as we all well know: explicit is better than implicit.</p>
<p>With this in mind, the new Hello World for Python now looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>            <span class="k">class</span> <span class="nc">HelloWorldTextFactoryObject</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;A text factory object for producing text that can be printed.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">)</span>

<span class="n">hello_world</span> <span class="o">=</span> <span class="n">HelloWorldTextFactoryObject</span><span class="p">()</span>
</pre></div>
</div>
<section id="synchronous-vs-asynchronous-code">
<h3><a class="toc-backref" href="#synchronous-vs-asynchronous-code">Synchronous vs Asynchronous Code</a></h3>
<p>To be more explicit, all functions can now use the new sync keyword:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>            <span class="k">class</span> <span class="nc">HelloWorldTextFactoryObject</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;A text factory object for producing text that can be printed.&quot;&quot;&quot;</span>
    <span class="n">sync</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">)</span>

    <span class="n">sync</span> <span class="k">def</span> <span class="nf">greeting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">hello_world</span> <span class="o">=</span> <span class="n">HelloWorldTextFactoryObject</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="why-pep-9001">
<h2><a class="toc-backref" href="#why-pep-9001">Why PEP 9001?</a></h2>
<p>Because 9001 is over 1125 times better than 8.</p>
</section>
<section id="the-revised-zen-of-python">
<h2><a class="toc-backref" href="#the-revised-zen-of-python">The Revised Zen of Python</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability is for hobgoblins.
Special cases will be met with the full force of the PSF.
Purity beats practicality.
There are no errors.
Anyone who says there are errors will be explicitly silenced.
In the face of ambiguity, remove the freedom to guess.
There is only one way to do it.
Although that way may not be obvious at first unless you&#39;re Dutch.
Now is better than never.
Although never is not real because time is fake.
If the implementation is hard to explain, it&#39;s a bad idea.
If the implementation is compliant with this style guide, it is a great idea.
Namespaces may contribute towards the 120 character minimum — let’s do more of those!
</pre></div>
</div>
</section>
<section id="references">
<h2><a class="toc-backref" href="#references">References</a></h2>
<dl class="footnote brackets">
<dt class="label" id="id1">[1]</dt>
<dd>The original <a class="pep reference internal" href="../pep-0008" title="PEP 8 – Style Guide for Python Code">PEP 8</a> style guide</dd>
<dt class="label" id="id2">[2]</dt>
<dd>Donald Knuth’s <em>The TeXBook</em>, pages 195 and 196.</dd>
<dt class="label" id="id3">[3]</dt>
<dd><a class="reference external" href="http://www.wikipedia.com/wiki/CamelCase">http://www.wikipedia.com/wiki/CamelCase</a></dd>
<dt class="label" id="id4">[4]</dt>
<dd>PEP8 song
<a class="reference external" href="https://www.youtube.com/watch?v=hgI0p1zf31k">https://www.youtube.com/watch?v=hgI0p1zf31k</a></dd>
<dt class="label" id="id5">[5]</dt>
<dd>Barry’s GNU Mailman style guide
<a class="reference external" href="http://barry.warsaw.us/software/STYLEGUIDE.txt">http://barry.warsaw.us/software/STYLEGUIDE.txt</a></dd>
</dl>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#copyright">Copyright</a></h2>
<p>This document has been placed in the public domain.</p>
</section>
</section>
<hr class="docutils" />
<p>Source: <a class="reference external" href="https://github.com/python-discord/peps/blob/main/pep-9001.txt">https://github.com/python-discord/peps/blob/main/pep-9001.txt</a></p>
<p>Last modified: <a class="reference external" href="https://github.com/python-discord/peps/commits/main/pep-9001.txt">2022-03-31 21:56:10 GMT</a></p>

        </article>
        <nav id="pep-sidebar">
            <h2>Contents</h2>
            <p id="toc-title">PEP 9001 – The Final Style Guide for Python Code</p>
            <ul>
<li><a class="reference internal" href="#introducktion">Introducktion</a></li>
<li><a class="reference internal" href="#a-final-consistency-is-the-king-of-great-minds">A Final Consistency is the King of Great Minds</a></li>
<li><a class="reference internal" href="#code-lay-out">Code Lay-out</a><ul>
<li><a class="reference internal" href="#indentation">Indentation</a></li>
<li><a class="reference internal" href="#tabs-or-spaces">Tabs or Spaces?</a></li>
<li><a class="reference internal" href="#maximum-line-length-and-line-requirement">Maximum Line Length and Line Requirement</a></li>
<li><a class="reference internal" href="#should-a-line-break-before-or-after-a-binary-operator">Should a Line Break Before or After a Binary Operator?</a></li>
<li><a class="reference internal" href="#blank-lines">Blank Lines</a></li>
<li><a class="reference internal" href="#source-file-encoding">Source File Encoding</a></li>
<li><a class="reference internal" href="#imports">Imports</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pet-peeves-and-recommendations">Pet Peeves and Recommendations</a></li>
<li><a class="reference internal" href="#annotations">Annotations</a></li>
<li><a class="reference internal" href="#programming-recommendations">Programming Recommendations</a><ul>
<li><a class="reference internal" href="#synchronous-vs-asynchronous-code">Synchronous vs Asynchronous Code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#why-pep-9001">Why PEP 9001?</a></li>
<li><a class="reference internal" href="#the-revised-zen-of-python">The Revised Zen of Python</a></li>
<li><a class="reference internal" href="#references">References</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>

            <br />
            <a id="source" href="https://github.com/python-discord/peps/blob/main/pep-9001.txt">Page Source (GitHub)</a>
            <br />
            <img src="../_static/ducky.png" width="20px">
        </nav>
    </section>
    <script src="../_static/colour_scheme.js"></script>
    <script src="../_static/wrap_tables.js"></script>
</body>
</html>